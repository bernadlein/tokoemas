@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Base (background & text adaptive) ===== */
@layer base {
  html, body {
    @apply min-h-screen bg-gradient-to-br from-amber-50 via-white to-amber-100/30 text-slate-800 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 dark:text-slate-100;
    font-synthesis-weight: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* ===== Components: konsisten di light/dark ===== */
@layer components {
  .btn {
    @apply inline-flex items-center gap-2 px-4 py-2 text-sm font-medium transition bg-white border shadow-sm rounded-2xl text-slate-700 hover:shadow-md active:shadow border-amber-200 hover:bg-amber-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-300 dark:bg-slate-900 dark:text-slate-100 dark:border-slate-700 dark:hover:bg-slate-800;
  }
  .btn-primary {
    @apply text-white btn bg-amber-600 border-amber-600 hover:bg-amber-700 dark:text-white dark:bg-amber-600 dark:border-amber-600 dark:hover:bg-amber-700;
  }
  .btn-subtle{
    @apply bg-white btn border-amber-100 hover:bg-amber-50 dark:bg-slate-900 dark:border-slate-700 dark:hover:bg-slate-800;
  }

  .badge {
    @apply inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium
           bg-amber-50 text-amber-800 border border-amber-200
           dark:bg-amber-100/10 dark:text-amber-300 dark:border-amber-300/30;
  }
  .badge-green { @apply badge bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-100/10 dark:text-emerald-300 dark:border-emerald-300/30; }
  .badge-red   { @apply badge bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-100/10 dark:text-rose-300 dark:border-rose-300/30; }

  .card {
    @apply p-5 border rounded-3xl bg-white/90 backdrop-blur border-amber-100 shadow-card dark:bg-slate-900/90 dark:border-slate-800;
  }

  .input {
    @apply w-full px-3 py-2 bg-white border rounded-2xl text-slate-800 placeholder-slate-400 border-amber-200 focus:outline-none focus:ring-2 focus:ring-amber-300 dark:bg-slate-900 dark:text-slate-100 dark:placeholder-slate-500 dark:border-slate-700 dark:focus:ring-amber-400;
  }

  .label { @apply text-sm text-slate-600 dark:text-slate-200; }

  .section { @apply max-w-6xl p-4 mx-auto sm:p-6; }

  .kpi {
    @apply p-4 border rounded-2xl bg-gradient-to-br from-white to-amber-50 border-amber-100 dark:from-slate-900 dark:to-slate-800 dark:border-slate-800;
  }

  .muted { @apply text-xs text-slate-500 dark:text-slate-400; }

  /* ===== Toasts ===== */
  .toast {
    @apply px-4 py-3 text-sm shadow-lg rounded-2xl ring-1 backdrop-blur;
  }
  .toast-success { @apply toast bg-emerald-50/90 ring-emerald-200 text-emerald-900 dark:bg-emerald-950/80 dark:text-emerald-100 dark:ring-emerald-900; }
  .toast-error   { @apply toast bg-rose-50/90 ring-rose-200 text-rose-900 dark:bg-rose-950/80 dark:text-rose-100 dark:ring-rose-900; }
  .toast-info    { @apply toast bg-sky-50/90 ring-sky-200 text-sky-900 dark:bg-sky-950/80 dark:text-sky-100 dark:ring-sky-900; }

  /* Kbd hint */
  kbd {
    @apply inline-block px-1.5 py-0.5 rounded-md border text-[11px] font-medium
           bg-white/70 border-slate-200 text-slate-700
           dark:bg-slate-800/70 dark:border-slate-700 dark:text-slate-200;
  }
}

/* ===== Utilities kecil ===== */
@layer utilities {
  .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
}
